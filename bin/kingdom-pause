#!/usr/bin/perl
use strict;
use warnings;

my $PROC_PTRN = "Kingdom.*x86";

sub main(@){
  my @pids = `pgrep '$PROC_PTRN'`;
  chomp foreach @pids;
  @pids = map {/^(\d+)$/; $1} @pids;


  my $pid = $pids[0];
  my $status = `ps -o state= -p $pid`;
  chomp $status;

  my $isPaused = $status =~ /^T$/;
  if($isPaused){
    system "kill", "-CONT", $pid;
  }else{
    system "kill", "-STOP", $pid;
  }
}

&main(@ARGV);
