#!/usr/bin/perl
use strict;
use warnings;

sub execExists($);

sub main(@){
  if(execExists("mpv")){
    exec "mpv", @_;
  }elsif(execExists("qtcmdplayer")){
    exec "qtcmdplayer", @_;
  }else{
    die "ERROR: no player cmds found\n";
  }
}

sub execExists($){
  my ($execName) = @_;
  system "command -v \"$execName\" >/dev/null 2>/dev/null";
  if($? == 0){
    return 1;
  }else{
    return 0;
  }
}

&main(@ARGV);
