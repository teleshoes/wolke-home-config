#!/usr/bin/perl
use strict;
use warnings;
use lib `dirname $0 | tr -d '\n'`;
use ScriptScript;

sub main(@) {
  die "Usage: $0\n" if @_ > 0;

  my $tmpDir = "/tmp/aws-install-" . time;

  run "mkdir", $tmpDir;

  run "curl", "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip",
    "-o", "$tmpDir/awscliv2.zip";
  run "unzip", "-d", $tmpDir, "$tmpDir/awscliv2.zip";
  run "cd $tmpDir && sudo ./aws/install";

  run "rm", "-rf", $tmpDir;
}

&main(@ARGV);
