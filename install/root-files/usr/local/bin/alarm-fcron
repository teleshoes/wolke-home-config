#!/usr/bin/perl
use strict;
use warnings;

my $usage = "Usage:
  $0 alarmName_NAME [del]
    alarmName_NAME is two alphanumeric characters.
    del, if passed in, means delete the alarmName line instead of commenting it out
";

sub main(@){
  my $alarmName = shift;
  $alarmName = '' if not defined $alarmName;

  die $usage if $alarmName !~ /^[a-zA-Z0-9]{2}$/ or @_ > 0;

  system "alarm", "-g", $alarmName;

  system "fcron-alarm", "--remove", $alarmName;
}

&main(@ARGV);
